name: Concurrency in Reusable Workflows

on:
  workflow_dispatch:

jobs:
  initialize:
    name: Initialize
    runs-on: ubuntu-latest
    steps:
      - run: |
          echo "Initialize"
          sleep 5

  concurrency-test1:
    name: Concurrency Test 1
    uses: lucetre/action-concurrency/.github/workflows/reusable-workflow.yaml@main
    with:
      username: lucetre

  concurrency-test2:
    needs: initialize
    name: Concurrency Test 2
    uses: lucetre/action-concurrency/.github/workflows/reusable-workflow.yaml@main
    with:
      username: aslan

  concurrency-test3:
    needs: initialize
    name: Concurrency Test 3
    uses: lucetre/action-concurrency/.github/workflows/reusable-workflow.yaml@main
    with:
      username: aslan
